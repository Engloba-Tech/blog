<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Carlos Ca√±izares on Engloba Tech - Blog</title><link>https://engloba-tech.github.io/blog/public/tags/carlos-ca%C3%B1izares/</link><description>Recent content in Carlos Ca√±izares on Engloba Tech - Blog</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Mon, 08 Mar 2021 08:40:44 +0100</lastBuildDate><atom:link href="https://engloba-tech.github.io/blog/public/tags/carlos-ca%C3%B1izares/index.xml" rel="self" type="application/rss+xml"/><item><title>Configurando CD para mi aplicaci√≥n React Native a Google Play y Apple Store con App Center</title><link>https://engloba-tech.github.io/blog/public/posts/rn-appcenter-googleplay-applestore/</link><pubDate>Mon, 08 Mar 2021 08:40:44 +0100</pubDate><guid>https://engloba-tech.github.io/blog/public/posts/rn-appcenter-googleplay-applestore/</guid><description>
&lt;p>En los √∫ltimos 4 o 5 a√±os, los equipos de desarrollo hemos mejorado mucho en cuanto a automatizaci√≥n de deploys y dem√°s. Ha habido un auge devops que ha hecho que la mayor√≠a de developers de bien entiendan y definan una pipeline. Ahora entendemos la importancia de la automatizaci√≥n y como esto va vinculado a entregas r√°pidas y din√°micas que tanto remarca Agile. A d√≠a de hoy no podr√≠a hacer un despliegue manual de mis aplicaciones web, de echo, al empezar un proyecto lo primero es montar el circuito de CD con un hello world y a partir de ah√≠ empezamos a montar features y lo que quieras.&lt;/p>
&lt;p>Las herramientas de CD/CI tambi√©n han evolucionado mucho y la adopci√≥n del cloud por la mayor√≠a de equipos tambi√©n tiene a ver en esta tend√©ncia&amp;hellip; En el caso de Engloba Tech a d√≠a de hoy usamos Azure Dev Ops para repos y la configuraci√≥n de pipelines de nuestras aplicaciones web. Para las apps nativas, la parte de build/deploy/distribute la hacemos desde App Center que es el antiguo Hockey App que en su d√≠a compr√≥ Microsoft y est√° totalmente especializado en build/deploy/distribute aplicaciones nativas iOS/Android y te da &amp;ldquo;cosas&amp;rdquo; OOB que si te las tuvieses que montar en una pipeline de Azure Dev Ops te costar√≠a mucho m√°s. Tienes una capa gratuita que te da 4 horas de agente al mes&amp;hellip; Nosotros al final hemos necesitado ampliar (es rollo 40‚Ç¨ mes ahora) pero porque tenemos bastante movimiento.&lt;/p>
&lt;h3 id="cd-en-aplicaciones-nativas">CD en aplicaciones nativas&lt;/h3>
&lt;p>Cuando tu producto incorpora una app nativa, sabemos que lo suyo es hacerla pasar por las correspondientes stores para su distribuci√≥n. En un servidor web, nadie te va a decir que no puedes subir una web porque el contenido no es super bonito, o no est√° claro, o porque falta una captura en la descripci√≥n de producto o un video explainer (s√≠ s√≠, apple se gusta un mont√≥n pidiendo este tipo de mierdas para aprobarte la publicaci√≥n). El escenario ideal en nuestro caso ser√≠a el mismo que tenemos para las aplicaciones web&amp;hellip; un entorno con CD que suele ser nuestro entorno de beta/pruebas que tiene todo lo √∫ltimo&amp;hellip; y luego tenemos el paso a producci√≥n que depende de que pulsemos el bot√≥n de la release correspondiente. Es nuestro escenario, no quiero decir que sea el mejor ni el universal ni nada por el estilo&amp;hellip; es una pol√≠tica de despliegues que en nuestro caso funciona y otro equipo podr√≠a optar por montar una estrategia de ramas y entornos m√°s elaborado en funci√≥n de sus necesidades.&lt;/p>
&lt;h3 id="como-planteamos-este-escenario-en-engloba-tech-desde-app-center">Como planteamos este escenario en Engloba Tech desde App Center&lt;/h3>
&lt;p>En App Center lo montamos un poco diferente a como solemos hacerlo en web, tenemos una rama &amp;ldquo;x&amp;rdquo; que es la que se alinea con nuestro entorno pruebas. Esta rama tiene una build que se distribuye a colaboradores (testers, normalmente nosotros y alg√∫n usuario clave de negocio), esta rama por tanto si que est√° automatizada pero la distruci√≥n es mediante App Center y correos&amp;hellip; no pasamos por la store lo cual no es una app v√°lida para el usuario en el sentido que tiene que habilitarse movidas en android para poder usar la app (en ios peor, tienes que vincular el device ID al provisioning profile de la app, un foll√≥n a√±adir un tester)&amp;hellip; la distribuci√≥n anterior nos sirve para testear la evoluci√≥n y una vez ok pasamos a la store.&lt;/p>
&lt;p>Te preguntar√°s como gestionamos la transformaci√≥n de settings entre un entorno u otro. Lo hacemos jugando con esta secci√≥nd de la build y luego leyendo ese fichero .env desde React Native.&lt;/p>
&lt;p>&lt;img src="../../images/AppCenter-Build-Env-Variables.PNG" alt="Managing env variables in App Center build" title="Managing env variables in App Center build">&lt;/p>
&lt;p>Y en master tenemos configurada la build que va a las stores donde metemos los valores de producci√≥n en los settings de entorno. De este modo al hacer una PR y aprobarla de rama &amp;ldquo;x&amp;rdquo; a master har√° que se lance el proceso de publicaci√≥n a las correspondientes stores.&lt;/p>
&lt;h3 id="evitando-pasos-manuales">Evitando pasos manuales&lt;/h3>
&lt;p>¬øEs posible automatizar la subida a la store desde App Center?, La respuesta es s√≠&amp;hellip; pero eso no quiero decir que tu aplicaci√≥n est√© disponible desde el momento que acaba la release a la store&amp;hellip; tanto Google como Apple tendr√°n que validar la publicaci√≥n y puede tardar unos d√≠as o incluso que te la deniegen por alg√∫n motivo. Esto es un poco jodienda la verdad, tienes que ir con cuidado que si se publican las apis vnext no se rompa la app que consume estas apis&amp;hellip; Es posible que te toque cambiar ese V1 que la mayor√≠a solemos meter en nuestras apis por defecto pero que a la hora de la verdad pocas veces te toca mantener versionado en serio en tus apis&amp;hellip; Otra opci√≥n para mitigar este tema es hacer la publicaci√≥n en las stores pero no activar la release hasta que est√° aprobada. Esto puede valerte seguro con Android porque no prueba la release pero has de ir con cuidado con Apple. Si tu app no es compatible con la versi√≥n p√∫blica de la api podr√≠a ser que detecten algun fallo y no te aprueben la publicaci√≥n (apple prueba la app, te piden credenciales en caso que sean necesarias y te dan feedback).&lt;/p>
&lt;p>Veamos como automatizar esto desde App Center, en realidad es muy sencillo si ya te mueves bien por App Center y las correspondientes stores. La primera subida no queda otra que hacerla a mano, √°nimo jaja. Una vez ya tienes la primera subida detallo los pasos necesarios para automatizar la publicaci√≥n a las stores.&lt;/p>
&lt;h3 id="google-play">Google Play&lt;/h3>
&lt;p>Necesitas una developer account, una vez dentro has de crear una cuenta de servicio que pueda acceder a la api. Lo haremos siguiendo los pasos que ves en las capturas.&lt;/p>
&lt;p>&lt;img src="../../images/GooglePlay-Api-Access.PNG" alt="Create service account in Google Play Api" title="Create service account in Google Play Api">&lt;/p>
&lt;p>Una vez pulsas en Crear Cuenta de Servicio te dirige a la p√°gina de Google Cloud Platform donde puedes crear cuentas de servicio y vincular &amp;ldquo;keys&amp;rdquo; (p12 o json).&lt;/p>
&lt;p>&lt;img src="../../images/Create-Service-Account-Json-Key.PNG" alt="Creating Api Key and Downloading Json" title="Creating Api Key and Downloading Json">&lt;/p>
&lt;p>Descargamos la clave y nos vamos a App Center, vamos a distribute y configuramos el acceso a Google Play subiendo la clave que hemos descargado.&lt;/p>
&lt;p>&lt;img src="../../images/Upload-Json-Key-AppCenter.PNG" alt="Upload Google Credentials Json to App Center" title="Upload Google Credentials Json to App Center">&lt;/p>
&lt;p>Una vez tenemos la store vinculada ya podemos seleccionarla en nuestra build Android/Master.&lt;/p>
&lt;p>&lt;img src="../../images/Distribute-Store-AppCenter.PNG" alt="Select Distribute To Store in Distribution Section" title="Select Distribute To Store in Distribution Section">&lt;/p>
&lt;p>Con esto ya tendr√≠amos automatizada la publicaci√≥n para Google Play de modo que un commit en master de la app lanza el proceso.&lt;/p>
&lt;h3 id="apple-store">Apple Store&lt;/h3>
&lt;p>Para Apple pues vas a App Center a la app de iOS y en Distribute vamos a Store (igual que para Android).&lt;/p>
&lt;p>Te pedir√° tus credenciales del Apple ID con el que tienes cuenta en Apple developer y has registrado la app la primera vez&amp;hellip; Introduces credenciales y como mucho si tienes doble factor de autentiaci√≥n en tu cuenta (imagino que s√≠) te har√° generar claves para uso de apps que ya ver√°s que el mismo asistente en App Center te gu√≠a para hacerlo y es f√°cil.&lt;/p>
&lt;p>Ahora tendr√≠as que hacer exactamente lo mismo que hemos hecho para Android, ir a la build de master y en la secci√≥n Distribute seleccionar Store y Production.&lt;/p>
&lt;p>Tambi√©n podr√≠as distribuir una release existente de modo manual. Si te vas a la release una vez has configurado la store, te sale como una opci√≥n m√°s de distribuci√≥n.
&lt;img src="../../images/Distribute-Apple-Store-AppCenter.PNG" alt="Manually distributing a existing release to Apple Store" title="Manually distributing a existing release to Apple Store">&lt;/p>
&lt;p>Con esto ya tendr√≠amos automatizada la publicaci√≥n en las tiendas!&lt;/p></description></item><item><title>Configurando Serilog contra Application Insights en nuestra aplicaci√≥n web Asp.Net</title><link>https://engloba-tech.github.io/blog/public/posts/serilog/</link><pubDate>Wed, 24 Feb 2021 08:40:44 +0100</pubDate><guid>https://engloba-tech.github.io/blog/public/posts/serilog/</guid><description>
&lt;p>La monitorizaci√≥n es un aspecto importante de nuestras aplicaciones üìà. Si tienes la insfraestructura en Azure lo m√°s t√≠pico ser√≠a usar Application Insights / Azure Monitor como saas de m√©tricas y usar el portal de Azure Monitor como visor.&lt;/p>
&lt;p>Si usas App Services de Azure, tener un site monitorizado en Azure Monitor es cuesti√≥n de minutos&amp;hellip; lo puedes hacer desde el portal, pulsando a√±adir Application Insights y configurando el setting de la instrumentation key. Esto ya har√° que puedas consumir ese resource App Insights que has creado para recolectar m√©tricas del site y ver m√©tricas interesantes como n√∫mero de peticiones, ver agregados de peticiones por c√≥digos de respuesta, tiempo medio respuesta, etc&amp;hellip; Ok, pero ¬øqu√© pasa si quiero analizar porqu√© se ha lanzado un 500 o hacer seguimiento de un hilo de peticiones m√°s complejo?. Si no configuramos &amp;ldquo;algo m√°s&amp;rdquo; en la api, vamos un poco a ciegas cuando queremos ver m√°s en detalle.&lt;/p>
&lt;p>.Net como framework incorpora su api para &lt;a href="https://docs.microsoft.com/es-es/aspnet/core/fundamentals/logging/?view=aspnetcore-5.0">logging&lt;/a> aunque solemos configurar alg√∫n paquete que nos ayude con la gesti√≥n de todo esto en nuestras aplicaciones. Tienes varias opciones como Log4Net, Nlog (&amp;hellip;). En nuestro caso usaremos Serilog.&lt;/p>
&lt;h3 id="como-configurar-serilog-en-aspnet-31">Como configurar Serilog en Asp.Net 3.1&lt;/h3>
&lt;p>En primer lugar aseg√∫rate de tener App Insights Telemetry registrado en la api, ya que serilog &amp;ldquo;volcar√°&amp;rdquo; lo que vaya colectando a un registro que podr√≠a ser una base de datos, un fichero o en este caso un servicio en el cloud como es Azure Monitor / Application Insights.&lt;/p>
&lt;p>A√±ade el paquete Microsoft.ApplicationInsights.AspNetCore a tu Host.&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-xml" data-lang="xml"> &lt;span style="color:#f92672">&amp;lt;PackageReference&lt;/span> &lt;span style="color:#a6e22e">Include=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;Microsoft.ApplicationInsights.AspNetCore&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">Version=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;2.16.0&amp;#34;&lt;/span> &lt;span style="color:#f92672">/&amp;gt;&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>Configura el middleware en tu configuraci√≥n de arranque:&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-java" data-lang="java"> services&lt;span style="color:#f92672">.&lt;/span>&lt;span style="color:#a6e22e">AddApplicationInsightsTelemetry&lt;/span>&lt;span style="color:#f92672">();&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>Para usar Serilog contra AppInsights necesitaremos estos 3 paquetes:&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-xml" data-lang="xml"> &lt;span style="color:#f92672">&amp;lt;PackageReference&lt;/span> &lt;span style="color:#a6e22e">Include=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;Serilog.AspNetCore&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">Version=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;3.4.0&amp;#34;&lt;/span> &lt;span style="color:#f92672">/&amp;gt;&lt;/span>
&lt;span style="color:#f92672">&amp;lt;PackageReference&lt;/span> &lt;span style="color:#a6e22e">Include=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;Serilog.Settings.Configuration&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">Version=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;3.1.0&amp;#34;&lt;/span> &lt;span style="color:#f92672">/&amp;gt;&lt;/span>
&lt;span style="color:#f92672">&amp;lt;PackageReference&lt;/span> &lt;span style="color:#a6e22e">Include=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;Serilog.Sinks.ApplicationInsights&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">Version=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;3.1.0&amp;#34;&lt;/span> &lt;span style="color:#f92672">/&amp;gt;&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>Ahora el siguiente paso ser√≠a configurar serilog en el arranque de nuestra aplicaci√≥n Asp.Net normalmente en la clase Program.cs. Nos interesa configurar aqu√≠ ya Serilog porque normalmente en nuestras apis solemos tener un seed b√°sico de datos y de este modo registrar√≠amos si se podruciese alg√∫n fallo en este proceso.&lt;/p>
&lt;p>Nuestro c√≥digo pinta as√≠, lo importante es como nos traemos el logger de la configuraci√≥n de la api y como luego le decimos que &amp;ldquo;escriba&amp;rdquo; los registros en App Insights.&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-java" data-lang="java"> &lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">static&lt;/span> async Task &lt;span style="color:#a6e22e">Main&lt;/span>&lt;span style="color:#f92672">(&lt;/span>string&lt;span style="color:#f92672">[]&lt;/span> args&lt;span style="color:#f92672">)&lt;/span>
&lt;span style="color:#f92672">{&lt;/span>
var host &lt;span style="color:#f92672">=&lt;/span> BuildWebHost&lt;span style="color:#f92672">(&lt;/span>args&lt;span style="color:#f92672">);&lt;/span>
using &lt;span style="color:#f92672">(&lt;/span>var scope &lt;span style="color:#f92672">=&lt;/span> host&lt;span style="color:#f92672">.&lt;/span>&lt;span style="color:#a6e22e">Services&lt;/span>&lt;span style="color:#f92672">.&lt;/span>&lt;span style="color:#a6e22e">CreateScope&lt;/span>&lt;span style="color:#f92672">())&lt;/span>
&lt;span style="color:#f92672">{&lt;/span>
var services &lt;span style="color:#f92672">=&lt;/span> scope&lt;span style="color:#f92672">.&lt;/span>&lt;span style="color:#a6e22e">ServiceProvider&lt;/span>&lt;span style="color:#f92672">;&lt;/span>
var logger &lt;span style="color:#f92672">=&lt;/span> services&lt;span style="color:#f92672">.&lt;/span>&lt;span style="color:#a6e22e">GetRequiredService&lt;/span>&lt;span style="color:#f92672">&amp;lt;&lt;/span>ILogger&lt;span style="color:#f92672">&amp;lt;&lt;/span>Program&lt;span style="color:#f92672">&amp;gt;&amp;gt;();&lt;/span>
&lt;span style="color:#66d9ef">try&lt;/span>
&lt;span style="color:#f92672">{&lt;/span>
var environment &lt;span style="color:#f92672">=&lt;/span> services&lt;span style="color:#f92672">.&lt;/span>&lt;span style="color:#a6e22e">GetRequiredService&lt;/span>&lt;span style="color:#f92672">&amp;lt;&lt;/span>IWebHostEnvironment&lt;span style="color:#f92672">&amp;gt;();&lt;/span>
var builder &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#66d9ef">new&lt;/span> ConfigurationBuilder&lt;span style="color:#f92672">()&lt;/span>
&lt;span style="color:#f92672">.&lt;/span>&lt;span style="color:#a6e22e">SetBasePath&lt;/span>&lt;span style="color:#f92672">(&lt;/span>environment&lt;span style="color:#f92672">.&lt;/span>&lt;span style="color:#a6e22e">ContentRootPath&lt;/span>&lt;span style="color:#f92672">)&lt;/span>
&lt;span style="color:#f92672">.&lt;/span>&lt;span style="color:#a6e22e">AddJsonFile&lt;/span>&lt;span style="color:#f92672">(&lt;/span>&lt;span style="color:#e6db74">&amp;#34;appsettings.json&amp;#34;&lt;/span>&lt;span style="color:#f92672">,&lt;/span> &lt;span style="color:#66d9ef">false&lt;/span>&lt;span style="color:#f92672">,&lt;/span> &lt;span style="color:#66d9ef">true&lt;/span>&lt;span style="color:#f92672">);&lt;/span>
var config &lt;span style="color:#f92672">=&lt;/span> builder&lt;span style="color:#f92672">.&lt;/span>&lt;span style="color:#a6e22e">Build&lt;/span>&lt;span style="color:#f92672">();&lt;/span>
await DbInitializer&lt;span style="color:#f92672">.&lt;/span>&lt;span style="color:#a6e22e">InitializeDatabaseAsync&lt;/span>&lt;span style="color:#f92672">(&lt;/span>config&lt;span style="color:#f92672">,&lt;/span> services&lt;span style="color:#f92672">,&lt;/span> environment&lt;span style="color:#f92672">);&lt;/span>
&lt;span style="color:#f92672">}&lt;/span>
&lt;span style="color:#66d9ef">catch&lt;/span> &lt;span style="color:#f92672">(&lt;/span>Exception ex&lt;span style="color:#f92672">)&lt;/span>
&lt;span style="color:#f92672">{&lt;/span>
logger&lt;span style="color:#f92672">.&lt;/span>&lt;span style="color:#a6e22e">LogError&lt;/span>&lt;span style="color:#f92672">(&lt;/span>ex&lt;span style="color:#f92672">.&lt;/span>&lt;span style="color:#a6e22e">GetInnerException&lt;/span>&lt;span style="color:#f92672">());&lt;/span>
&lt;span style="color:#f92672">}&lt;/span>
&lt;span style="color:#f92672">}&lt;/span>
host&lt;span style="color:#f92672">.&lt;/span>&lt;span style="color:#a6e22e">Run&lt;/span>&lt;span style="color:#f92672">();&lt;/span>
&lt;span style="color:#f92672">}&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-java" data-lang="java"> &lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">static&lt;/span> IWebHost &lt;span style="color:#a6e22e">BuildWebHost&lt;/span>&lt;span style="color:#f92672">(&lt;/span>string&lt;span style="color:#f92672">[]&lt;/span> args&lt;span style="color:#f92672">)&lt;/span> &lt;span style="color:#f92672">=&amp;gt;&lt;/span>
WebHost&lt;span style="color:#f92672">.&lt;/span>&lt;span style="color:#a6e22e">CreateDefaultBuilder&lt;/span>&lt;span style="color:#f92672">(&lt;/span>args&lt;span style="color:#f92672">)&lt;/span>
&lt;span style="color:#f92672">...&lt;/span>
&lt;span style="color:#f92672">.&lt;/span>&lt;span style="color:#a6e22e">UseStartup&lt;/span>&lt;span style="color:#f92672">&amp;lt;&lt;/span>Startup&lt;span style="color:#f92672">&amp;gt;()&lt;/span>
&lt;span style="color:#f92672">.&lt;/span>&lt;span style="color:#a6e22e">UseSerilog&lt;/span>&lt;span style="color:#f92672">((&lt;/span>hostingContext&lt;span style="color:#f92672">,&lt;/span> loggerConfiguration&lt;span style="color:#f92672">)&lt;/span> &lt;span style="color:#f92672">=&amp;gt;&lt;/span> loggerConfiguration
&lt;span style="color:#f92672">.&lt;/span>&lt;span style="color:#a6e22e">ReadFrom&lt;/span>&lt;span style="color:#f92672">.&lt;/span>&lt;span style="color:#a6e22e">Configuration&lt;/span>&lt;span style="color:#f92672">(&lt;/span>hostingContext&lt;span style="color:#f92672">.&lt;/span>&lt;span style="color:#a6e22e">Configuration&lt;/span>&lt;span style="color:#f92672">)&lt;/span>
&lt;span style="color:#f92672">.&lt;/span>&lt;span style="color:#a6e22e">WriteTo&lt;/span>&lt;span style="color:#f92672">.&lt;/span>&lt;span style="color:#a6e22e">ApplicationInsights&lt;/span>&lt;span style="color:#f92672">(&lt;/span>&lt;span style="color:#66d9ef">new&lt;/span> TelemetryConfiguration &lt;span style="color:#f92672">{&lt;/span>
InstrumentationKey &lt;span style="color:#f92672">=&lt;/span> hostingContext&lt;span style="color:#f92672">.&lt;/span>&lt;span style="color:#a6e22e">Configuration&lt;/span>&lt;span style="color:#f92672">.&lt;/span>&lt;span style="color:#a6e22e">GetValue&lt;/span>&lt;span style="color:#f92672">&amp;lt;&lt;/span>string&lt;span style="color:#f92672">&amp;gt;(&lt;/span>&lt;span style="color:#e6db74">&amp;#34;ApplicationInsights:InstrumentationKey&amp;#34;&lt;/span>&lt;span style="color:#f92672">)&lt;/span>
&lt;span style="color:#f92672">},&lt;/span> TelemetryConverter&lt;span style="color:#f92672">.&lt;/span>&lt;span style="color:#a6e22e">Traces&lt;/span>&lt;span style="color:#f92672">))&lt;/span>
&lt;span style="color:#f92672">.&lt;/span>&lt;span style="color:#a6e22e">Build&lt;/span>&lt;span style="color:#f92672">();&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>Por otro lado en nuestro caso solemos configurar un filtro de excepciones a nivel de aplicaci√≥n de modo que si se genera una excepci√≥n no controlada siempre entrar√° en el filtro&amp;hellip; all√≠ tambi√©n usamos serilog.&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-java" data-lang="java"> services&lt;span style="color:#f92672">.&lt;/span>&lt;span style="color:#a6e22e">AddMvc&lt;/span>&lt;span style="color:#f92672">(&lt;/span>options &lt;span style="color:#f92672">=&amp;gt;&lt;/span>
&lt;span style="color:#f92672">{&lt;/span>
&lt;span style="color:#f92672">...&lt;/span>
options&lt;span style="color:#f92672">.&lt;/span>&lt;span style="color:#a6e22e">Filters&lt;/span>&lt;span style="color:#f92672">.&lt;/span>&lt;span style="color:#a6e22e">Add&lt;/span>&lt;span style="color:#f92672">(&lt;/span>typeof&lt;span style="color:#f92672">(&lt;/span>ExceptionFilter&lt;span style="color:#f92672">));&lt;/span>
&lt;span style="color:#f92672">...&lt;/span>
&lt;span style="color:#f92672">})&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>Y hasta aqu√≠ el post b√°sico sobre como configurar serilog en asp.net contra Application Insights. Como disclaimer a√±adir que por los tiempos que corren quiz√°s deber√≠amos ir pensando de movernos a .net 5.0&amp;hellip; en fin no tardaremos.&lt;/p></description></item><item><title>La vida del developer en el siglo XXI</title><link>https://engloba-tech.github.io/blog/public/posts/la-vida-del-developer-en-el-siglo-xxi/</link><pubDate>Fri, 29 Jan 2021 08:40:44 +0100</pubDate><guid>https://engloba-tech.github.io/blog/public/posts/la-vida-del-developer-en-el-siglo-xxi/</guid><description>
&lt;p>Este post viene a ser de los no t√©cnicos, aquellos que se pueden escribir con una copa de vino o cerveza al lado. Hablo del sector tecnol√≥gico desde el punto de vista de un perfil t√©cnico (de mi quinta entre 35 y 40) en los tiempos que corren. Vendr√≠a a ser un &lt;a href="https://ccanizares.github.io/KeepCoding/keep-coding/">keep coding II&lt;/a> escrito por la misma persona tras varios a√±os.&lt;/p>
&lt;p>En general, el sector de la tecnolog√≠a es un sector privilegiado en estos tiempos. Todos los roles van buscados. El perfil t√©cnico que tiene linkedin actualizado le llueven ofertas cada semana. Esto por desgracia no pasa en la mayor√≠a de sectores. Esta demanda de perfiles t√©cnicos y la dificultad de las empresas para encontrarlos, hace que si eres t√©cnico seguramente est√©s viviendo un buen momento. En cambio si como empresa (consultora o final) quieres formar un equipo, seguramente tengas dificultades para captar talento t√©cnico. Lo puedes comprobar si como empresa cuelgas una oferta en alg√∫n portal en plan se busca full stack, no se apuntar√° nadie a no ser que seas Amazon, Google, Spotify, Twitter o empresas con un cierto nombre o que est√©n de moda entre developers (no tienen porque ser grandes multinacionales). Y es m√°s si se apunta alg√∫n developer sospecha de el üòâ.&lt;/p>
&lt;p>Dado que la mayor√≠a de empresas (de cualquier sector) a d√≠a de hoy est√°n renovando sus sistemas y subi√©ndose al carro de la digitalizaci√≥n, big data, etc.. hay una gran demanda de t√©cnicos senior, juniors, full stack, front, back, datos, devops (‚Ä¶). Estas posiciones pr√°cticamente tienen una tasa de desempleo que ronda el 0%. Esto deriva en que las empresas, para captar talento, se han de poner las pilas en otros aspectos y ofrecer atractivos para que el trabajador opte por venir a tu empresa y una vez all√≠ no se vaya a la primera de turno.&lt;/p>
&lt;p>¬øA qu√© me refiero?, a salario competitivo, fruta y galletas, formaci√≥n, horario flexible, remote friendly, trabajar con chamanes, agile, transparencia y ambiente de jerarqu√≠a plana, chiqui park (fubolines, consolas), pair programming friendly, oficinas molonas, tecnolog√≠as a usar en el proyecto interesantes y cosas seguramente m√°s locas que os hayan ofrecido o que hay√°is vivido. La realidad es que este sector va por delante del resto. A mi en concreto muchos de estos atractivos no me hacen cambiar de empresa pero en la lista hay algunos temas que considero muy importantes.&lt;/p>
&lt;p>Ah√≠ va mi visi√≥n, empiezo por las que me parecen humo o poco importantes y acabo con las clave:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Fruta, galletas: Bueno estuve en una empresa que ten√≠a unas galletas saladas muy adictivas, los primeros d√≠as sin ellas fueron duros hasta que se me ocurri√≥ ir al super y comprarme yo un bote de galletas üòÖ. Ahora en serio NO me parece algo a valorar seriamente a la hora de plantearte un cambio de trabajo.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Oficinas molonas: Mientras dispongas de espacios en los que trabajar una planning y un espacio de trabajo que no sea las ramblas y te permita concentrarte&amp;hellip; suficiente. A d√≠a de hoy no me muevo por unas oficinas molonas aunque tengo que confesar que en alguna ocasi√≥n las vistas al mar han hecho declinar la balanza&amp;hellip; estoy en un momento el que no me mueve esto aunque entender√≠a que a alguien m√°s joven le flipe un ambiente con futbolines, consola y as√≠..&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Trabajar con chamanes: Te puedes encontrar como reclamo que trabajar√°s en el equipo de X el que ha escrito un libro y claro trabajar√° codo a codo contigo y aprender√°s mucho‚Ä¶ Bueno, normalmente ese tio no trabaja y vive un poco de su nombre. Nada a criticar pero no vas a aprender nada de el‚Ä¶ Trabajar con gente de nivel para mi es MUY interesante, yo he tenido la suerte de trabajar con varios que tela como he aprendido. En resumen, un cham√°n no es algo que a mi me haga moverme‚Ä¶ un nombre en concreto‚Ä¶ s√≠ que me har√≠a moverme el nivel general del equipo.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Formaci√≥n: En nuestro sector todo avanza muy r√°pido, con lo que te estudiaste no tienes ni para empezar‚Ä¶ has de aprender nuevos paradigmas de programaci√≥n, nuevas frameworks, nuevos modelos de gesti√≥n de equipos‚Ä¶ ya no te digo si eres programador javascript‚Ä¶ te quedas desfasado en nada. Por tanto si para ser programador asumes que has de dedicar todo ese tiempo de estudio en casa vamos mal‚Ä¶ Necesitas aprender durante tu jornada, hay muchas formas‚Ä¶ Por ejemplo estuve en una empresa que pr√°cticamente te obligaba a dedicar el 10% de tu jornada a formarte como tu quieras o para contribuir a proyectos open source. Yo si te digo la verdad no lo usaba porque ya aprendo cada d√≠a mientras trabajo. En realidad soy un farsante que no sabe programar y lo pregunta todo en stack overflow üòä. Mi valoraci√≥n hac√≠a esto del % es regular, como empresa no te vas a dedicar a ver si tus empleados est√°n produciendo o aprendiendo. Imagina que no s√© como hacer una cosa en el cloud porque ha cambiado la api que usaba en el script 1 y ahora tengo que leerme la nueva especificaci√≥n y picar un script 2‚Ä¶ estoy jodido si no aprendo como funciona la nueva especificaci√≥n no puedo ser productivo por tanto investigo y aprendo en horas de trabajo. En los √∫ltimos trabajos donde voy pasando cada sprint o cada mes suele haber un training que prepara alguien del equipo. Todos asistimos si llevamos bien el sprint y podemos‚Ä¶ no s√© si es un 10% de mi tiempo o menos. A tope con la formaci√≥n pero fuera los %, sentido com√∫n si puedes vas si no puedes no vas. Tambi√©n podr√≠as encontrar empresas que te costeen la asistencia a eventos, workshops, etc &amp;hellip; es un gran que &amp;hellip; interesante pero no de los m√°s determinantes en mi caso.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Lo mundano&amp;hellip; El salario: He conocido devs que este es su principal objetivo y es l√≠cito, al final esto nos gusta y tal pero hay que vivir. En mi caso he llegado a bajarme el salario para encajar en un equipo, nunca me ha movido en exceso el dinero pero tampoco me gusta sentirme mal pagado respecto a mercado. Podr√≠a llegar a moverme si estoy en una empresa que paga por debajo de mercado y no para de crecer su facturaci√≥n pero por norma general no me mover√≠a a otra empresa que me pague m√°s si el resto de cosillas que expongo m√°s abajo funcionan bien.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Stack y tecnolog√≠as involucradas: Esto lo considero importante, hay que tener un parque actualizado de aplicaciones si no te quedar√°s fuera. Aquel pensamiento feliz de desarrollo un software invertiendo X ‚Ç¨ y ya est√° ah√≠ para siempre no lo comparto. Bueno, puede que para cubrir alguna situaci√≥n muy concreta valga, pero en general, para las empresas el software est√° vivo. Por tanto, si quieres que se mantenga vivo, mant√©n actualizado y atractivo el stack sino llegar√° un d√≠a en el que no encuentres t√©cnicos que quieran seguir trabaj√°ndolo. Es un tema que sin duda me mueve, NO podr√≠a estar en un proyecto sintiendo que nos quedamos legacy.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Horario flexible y teletrabajo: ¬øQu√© necesitamos para hacer nuestro trabajo? Luz, corriente, internet una mesa y pantalla, etc‚Ä¶ como developer seguramente tengas un espacio en casa que mejora tu puesto de trabajo en la mayor√≠a de oficinas. En el equipo que trabajo ahora facilitamos el remoto‚Ä¶ y no paramos de comentar dudas, hacer video llamadas, compartimos pantalla, nos damos el control de la pantalla unos a otros, etc‚Ä¶ Hay herramientas de sobra a d√≠a de hoy para trabajar en remoto. El √∫nico d√≠a que intentamos que todo el mundo venga presencial es el d√≠a de planning, review (antes de la pandem√≠a ahora ni eso üò©). Ese d√≠a intentamos juntarlo con un training y hacer un poco de din√°mica de equipo. A mi personalmente me gusta ir a la oficina y tratar con compa√±eros (m√°s si luego hacemos una cerveza üòä), si la tuviese al lado de casa raramente har√≠a remoto. En mi caso no tengo duda que los d√≠as que trabajo en remoto soy mucho m√°s productivo, yo tardo 1h por trayecto casa/oficina por tanto es matem√°tico‚Ä¶ a parte en casa suelo alargar porque me atrapo con algo. En cambio en la oficina si alargo ya no veo al ni√±o. En casa es diferente, pero le acabo echando muchas m√°s horas y suelen ser muy productivas (a gusto nadie me controla ni obliga‚Ä¶). Por otro lado yo desde que tengo un hijo llego a la oficina sobre las 10, ¬øme voy siempre a √∫ltima hora? No, hay veces que s√≠ pero hay veces que no‚Ä¶ depende, mi rutina suele ser despertarme temprano rollo 6 (la edad), preparo caf√© y desayuno ya con el portatil leyendo prensa o twitter y antes que se despierte el peque ya suelo tener un PR subida‚Ä¶ y luego hay noches que si vamos apurados le pego un rato despu√©s de cenar. Por tanto no me agobio demasiado si no hago las 8 horas en la oficina porque mi equipo me mide por PR‚Äôs y commits no por horas calentando silla. Este es sin duda uno de los puntos m√°s importantes con diferencia para mi, he descartado √∫ltimamente alg√∫n curro que me era la ostia a nivel stack, equipo, ofi y money porque ten√≠an flexibilidad 0.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Agile: Un MUST. Seguramente esta sea la clave para entender la filosof√≠a de una tecnol√≥gica. Agile no es s√≥lo una metodolog√≠a de trabajo sino que en mi opini√≥n es toda una cultura de empresa. Transparencia, aprendizaje continuo, confianza, trabajo en equipo‚Ä¶ son las palabras que me vienen para definir esta cultura. En principio Agile fomenta la comunicaci√≥n entre toda la empresa, abre los despachos, aplana las jerarqu√≠as, fomenta la colaboraci√≥n y sinergias entre empleados, etc. No creo que aplique s√≥lo como metodolog√≠a para el desarrollo de software. Yo creo que podr√≠a llevarse sin problemas a otros sectores. A parte de la cultura, tenemos la metodolog√≠a de trabajo donde cada sprint, como equipo, adquirimos un compromiso que hemos estimado que es viable dada nuestra capacidad/tiempo que disponemos. En mi caso esto es muy importante que sea as√≠‚Ä¶ no sabr√≠a trabajar con otro tipo de metodolog√≠a a estas alturas.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>Para despedirme quer√≠a hacer un poco de retrospectiva sobre mi yo de hace 4 a√±os. En el post de &lt;a href="https://ccanizares.github.io/KeepCoding/keep-coding/">mi blog personal&lt;/a> me quedo con la reflexi√≥n que hac√≠a sobre las etiquetas y la zona de confort:&lt;/p>
&lt;pre>&lt;code>&amp;quot;Ahora luzco con orgullo mi etiqueta de developer porque lo que va detr√°s de la etiqueta (detr√°s del ‚Äúen‚Äù) ya explica
mucho de mi perfil, de lo que busco a nivel de proyectos y de c√≥mo vivo la tecnolog√≠a&amp;quot;
&lt;/code>&lt;/pre>&lt;p>Esto sigue siendo as√≠, nunca me mover√° un cargo ostentoso ni una etiqueta rollo acr√≥nimos y movidas, ni parecer m√°s que otro&amp;hellip; No me he movido √∫ltimamente para cambiar de rol &amp;hellip; s√≠ para tener m√°s flexibilidad horaria/remoto y tener m√°s libertad a la hora de escoger stack. Desde que tengo un hijo lo m√°s importante para mi es poder hacer lo que me gusta con las tecnolog√≠as que escogemos y conciliar. Ha dejado de tener import√°ncia el &amp;ldquo;cach√©&amp;rdquo; de la empresa para mi. Aunque quien sabe, cuando el ni√±o sea mayor a lo mejor vuelvo a cambiar de perspectiva. Ya escribir√© otro post si sigo cuerdo.&lt;/p>
&lt;p>Bueno y a ti cuales de las cosas que te mueven o podr√≠an hacerte mover?? Espero haberte hecho reflexionar un poco y prometo no pegar muchas m√°s chapas con post de este tipo üòù.&lt;/p></description></item></channel></rss>